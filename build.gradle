buildscript {
	repositories {
		maven { url "http://dl.bintray.com/releashaus/release" }
		maven { url "https://oss.sonatype.org/content/groups/public" }
	}

	dependencies {
		classpath 'org.scoverage:gradle-scoverage:1.0.8'
	}
}

repositories {
    mavenLocal()
    mavenCentral()

	maven {
		url "http://dl.bintray.com/scalaz/releases"
	}
}

apply plugin: 'scala'
apply plugin: 'idea'
apply plugin: 'maven'
apply plugin: org.scoverage.ScoveragePlugin

def scalaVersion = "2.11.5"

group = 'com.prezi.haskell'
version = '0.1'

dependencies {
	compile gradleApi()
    compile group: "org.scala-lang", name: "scala-library", version: "$scalaVersion"
    compile group: "org.scala-lang", name: "scala-compiler", version: "$scalaVersion"
	compile group: "com.jsuereth", name: "scala-arm_2.11", version: "1.4"
	compile group: "commons-io", name: "commons-io", version: "2.4"

	testCompile group: "org.specs2", name: "specs2_2.11", version: "3.0"
	testCompile group: "org.specs2", name: "specs2-core_2.11", version: "3.0"
	testCompile group: "org.specs2", name: "specs2-mock_2.11", version: "3.0"
	testCompile group: "org.specs2", name: "specs2-junit_2.11", version: "3.0"

	scoverage 'org.scoverage:scalac-scoverage-plugin_2.11:1.0.4'
	scoverage 'org.scoverage:scalac-scoverage-runtime_2.11:1.0.4'
}

tasks.withType(ScalaCompile) {
    scalaCompileOptions.useAnt = false
    scalaCompileOptions.additionalParameters = ["-unchecked", "-deprecation", "-feature", "-Xfatal-warnings"]
}

checkScoverage {
	// minimumLineRate = 0.9
}

task wrapper(type: Wrapper) {
	gradleVersion = '2.2.1'
}
